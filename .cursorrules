# Agent rules

## Project context

Before working on any task, read README.md to understand:

- Project purpose and goals
- Project structure and organization
- Development setup and requirements
- Key dependencies and technologies
- Build and deployment processes

## Behavior guidelines

### Core principles

1. **Never make assumptions**

   - If anything is unclear, ask for clarification
   - Do not infer requirements beyond what is explicitly stated
   - Do not assume user preferences or constraints
   - Do not assume technical decisions without verification

2. **Do the minimum requested**

   - Complete only what the user explicitly asks for
   - Do not add extra features, files, or improvements
   - Do not refactor unrelated code
   - Do not update dependencies unless asked
   - Excessive actions waste time and add complexity
   - Better to do less than more

3. **Answer questions, do not take action**

   - If the user asks a question, provide an answer
   - Do not implement changes when user is asking for information
   - Do not create files or modify code when user is seeking clarification
   - User questions expect answers, not actions

4. **Never commit without explicit request**

   - Do not create commits automatically after making changes
   - Do not commit unless the user explicitly asks you to commit
   - Only run `git commit` when directly instructed by the user
   - Making changes does not imply permission to commit them

### Common best practices

- Write clean, readable code with clear variable names
- Follow existing code style and patterns in the project
- Add comments only when code intent is not obvious
- Write error messages that help debug issues
- Validate inputs and handle edge cases
- Use existing utilities and helpers before creating new ones
- Keep functions small and focused on single responsibility
- Avoid premature optimization
- Test changes before considering them complete

## Git practices

**IMPORTANT: Never create commits unless the user explicitly asks you to commit. Making code changes does not give permission to commit them.**

### Pre-commit checklist

Before creating any commit:

1. Run `git status` and `git diff`
2. Read all modified files using file reading tools
3. Verify changes match your intent
4. Write commit message following rules below

The filesystem is the source of truth, not chat history.

### Verification steps

Run these commands:

```bash
git status
git diff
```

Then read all modified files with file reading tools:

- Verify content matches intended changes
- Check for accidental or incomplete modifications
- Check for unrelated changes

### Commit message format

```
type: subject under 50 chars

- Bullet point describing what changed
- Another bullet point if multiple changes
- Use dash and space (- ) for bullets
- Describe actual changes, not file operations
- Keep bullets concise and focused
```

### Commit message checklist

- [ ] Type: `feat` `fix` `docs` `style` `refactor` `perf` `test` `chore` `ci` `build`
- [ ] Subject under 50 characters
- [ ] Lowercase after colon
- [ ] Imperative mood (add, fix, change)
- [ ] No period at end of subject
- [ ] Body included (always required)
- [ ] Body describes what changed, not which files changed
- [ ] Focus on primary change
- [ ] No AI attribution

### Type selection

Use the type that matches the primary change:

- `feat:` new feature or functionality
- `fix:` bug fix
- `docs:` documentation only
- `style:` formatting only
- `refactor:` code restructuring
- `perf:` performance improvement
- `test:` tests
- `chore:` maintenance
- `ci:` CI/CD
- `build:` build system

If you add a feature and update docs, use `feat:` not `docs:`.

### Body rules

Describe what functionality changed, not file operations:

- Bad: "Add auth.js file", "Update user controller"
- Good: "Implement JWT token generation", "Add password validation"

Never include:

- "Generated with Claude Code"
- "Co-Authored-By: Claude"
- Any AI attribution

### Commit examples

```
refactor: adjust cover image layout in single view

- Move title and meta back before cover image
- Restore standard padding-top to site-main
- Reduce image bleed from 130% to 120% width
- Image now bleeds 10% on each side instead of 15%
- Viewport breakpoint adjusted to 1152px (960px * 1.2)
```

```
build: add makefile for docker-based builds

- Add Makefile with BUILD_ENVIRONMENT and BUILD_DESTINATION variables
- Use official Hugo Docker image for builds
- Update GitHub Actions workflow to use make build
- Remove Hugo CLI installation from CI workflow
```

```
fix: prevent double-click form submission

- Add disabled state during form submission
- Prevent duplicate requests on multiple clicks
```

### Forbidden commands

Never use `git reset --hard`. It destroys uncommitted changes permanently with no recovery.

Safe alternatives:

- Discard file: `git restore <file>`
- Unstage: `git restore --staged <file>`
- View previous state: `git diff` or `git show`

If user requests hard reset, warn about data loss and suggest alternatives first.

### Workflow example

```bash
git status
git diff
# Read: src/auth.js, src/routes.js, README.md
# Verify changes match intent

git commit -m "feat: add jwt authentication system

Implement JWT-based authentication with login,
registration, and token refresh endpoints."
```

## Brand guidelines

Before making any UI changes, design decisions, or visual modifications, read:

```
docs/rules/BRAND_GUIDELINES.md
```

Follow all established standards:

- Color palette and theme colors
- Typography hierarchy and font usage
- Logo usage rules and variations
- Spacing and layout conventions
- Accessibility standards (WCAG compliance)
- Component design patterns
- Animation and interaction guidelines

Do not deviate from brand guidelines without explicit user approval.

# Created by https://www.toptal.com/developers/gitignore/api/macos,visualstudiocode,phpstorm+all,composer,python

# Edit at https://www.toptal.com/developers/gitignore?templates=macos,visualstudiocode,phpstorm+all,composer,python

### Composer

composer.phar
/vendor/

# Commit your application's lock file https://getcomposer.org/doc/01-basic-usage.md#commit-your-composer-lock-file-to-version-control

# You may choose to ignore a library lock file http://getcomposer.org/doc/02-libraries.md#lock-file

# composer.lock

### macOS

# General

.DS_Store
.AppleDouble
.LSOverride

# Icon must end with two \r

Icon

# Thumbnails

.\_\*

# Files that might appear in the root of a volume

.DocumentRevisions-V100
.fseventsd
.Spotlight-V100
.TemporaryItems
.Trashes
.VolumeIcon.icns
.com.apple.timemachine.donotpresent

# Directories potentially created on remote AFP share

.AppleDB
.AppleDesktop
Network Trash Folder
Temporary Items
.apdisk

### macOS Patch

# iCloud generated files

\*.icloud

### PhpStorm+all

# Covers JetBrains IDEs: IntelliJ, RubyMine, PhpStorm, AppCode, PyCharm, CLion, Android Studio, WebStorm and Rider

# Reference: https://intellij-support.jetbrains.com/hc/en-us/articles/206544839

# User-specific stuff

.idea/**/workspace.xml
.idea/**/tasks.xml
.idea/**/usage.statistics.xml
.idea/**/dictionaries
.idea/\*\*/shelf

# AWS User-specific

.idea/\*\*/aws.xml

# Generated files

.idea/\*\*/contentModel.xml

# Sensitive or high-churn files

.idea/**/dataSources/
.idea/**/dataSources.ids
.idea/**/dataSources.local.xml
.idea/**/sqlDataSources.xml
.idea/**/dynamic.xml
.idea/**/uiDesigner.xml
.idea/\*\*/dbnavigator.xml

# Gradle

.idea/**/gradle.xml
.idea/**/libraries

# Gradle and Maven with auto-import

# When using Gradle or Maven with auto-import, you should exclude module files,

# since they will be recreated, and may cause churn. Uncomment if using

# auto-import.

# .idea/artifacts

# .idea/compiler.xml

# .idea/jarRepositories.xml

# .idea/modules.xml

# .idea/\*.iml

# .idea/modules

# \*.iml

# \*.ipr

# CMake

cmake-build-\*/

# Mongo Explorer plugin

.idea/\*\*/mongoSettings.xml

# File-based project format

\*.iws

# IntelliJ

out/

# mpeltonen/sbt-idea plugin

.idea_modules/

# JIRA plugin

atlassian-ide-plugin.xml

# Cursive Clojure plugin

.idea/replstate.xml

# SonarLint plugin

.idea/sonarlint/

# Crashlytics plugin (for Android Studio and IntelliJ)

com_crashlytics_export_strings.xml
crashlytics.properties
crashlytics-build.properties
fabric.properties

# Editor-based Rest Client

.idea/httpRequests

# Android studio 3.1+ serialized cache file

.idea/caches/build_file_checksums.ser

### PhpStorm+all Patch

# Ignore everything but code style settings and run configurations

# that are supposed to be shared within teams.

.idea/\*

!.idea/codeStyles
!.idea/runConfigurations

### Python

# Byte-compiled / optimized / DLL files

**pycache**/
_.py[cod]
_$py.class

# C extensions

\*.so

# Distribution / packaging

.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
share/python-wheels/
_.egg-info/
.installed.cfg
_.egg
MANIFEST

# PyInstaller

# Usually these files are written by a python script from a template

# before PyInstaller builds the exe, so as to inject date/other infos into it.

_.manifest
_.spec

# Installer logs

pip-log.txt
pip-delete-this-directory.txt

# Unit test / coverage reports

htmlcov/
.tox/
.nox/
.coverage
.coverage._
.cache
nosetests.xml
coverage.xml
_.cover
\*.py,cover
.hypothesis/
.pytest_cache/
cover/

# Translations

_.mo
_.pot

# Django stuff:

\*.log
local_settings.py
db.sqlite3
db.sqlite3-journal

# Flask stuff:

instance/
.webassets-cache

# Scrapy stuff:

.scrapy

# Sphinx documentation

docs/\_build/

# PyBuilder

.pybuilder/
target/

# Jupyter Notebook

.ipynb_checkpoints

# IPython

profile_default/
ipython_config.py

# pyenv

# For a library or package, you might want to ignore these files since the code is

# intended to run in multiple environments; otherwise, check them in:

# .python-version

# pipenv

# According to pypa/pipenv#598, it is recommended to include Pipfile.lock in version control.

# However, in case of collaboration, if having platform-specific dependencies or dependencies

# having no cross-platform support, pipenv may install dependencies that don't work, or not

# install all needed dependencies.

#Pipfile.lock

# poetry

# Similar to Pipfile.lock, it is generally recommended to include poetry.lock in version control.

# This is especially recommended for binary packages to ensure reproducibility, and is more

# commonly ignored for libraries.

# https://python-poetry.org/docs/basic-usage/#commit-your-poetrylock-file-to-version-control

#poetry.lock

# pdm

# Similar to Pipfile.lock, it is generally recommended to include pdm.lock in version control.

#pdm.lock

# pdm stores project-wide configurations in .pdm.toml, but it is recommended to not include it

# in version control.

# https://pdm.fming.dev/#use-with-ide

.pdm.toml

# PEP 582; used by e.g. github.com/David-OConnor/pyflow and github.com/pdm-project/pdm

**pypackages**/

# Celery stuff

celerybeat-schedule
celerybeat.pid

# SageMath parsed files

\*.sage.py

# Environments

.env
.venv
env/
venv/
ENV/
env.bak/
venv.bak/

# Spyder project settings

.spyderproject
.spyproject

# Rope project settings

.ropeproject

# mkdocs documentation

/site

# mypy

.mypy_cache/
.dmypy.json
dmypy.json

# Pyre type checker

.pyre/

# pytype static type analyzer

.pytype/

# Cython debug symbols

cython_debug/

# PyCharm

# JetBrains specific template is maintained in a separate JetBrains.gitignore that can

# be found at https://github.com/github/gitignore/blob/main/Global/JetBrains.gitignore

# and can be added to the global gitignore or merged into this file. For a more nuclear

# option (not recommended) you can uncomment the following to ignore the entire idea folder.

#.idea/

### Python Patch

# Poetry local configuration file - https://python-poetry.org/docs/configuration/#local-configuration

poetry.toml

# ruff

.ruff_cache/

# LSP config files

pyrightconfig.json

### VisualStudioCode

.vscode/_
!.vscode/settings.json
!.vscode/tasks.json
!.vscode/launch.json
!.vscode/extensions.json
!.vscode/_.code-snippets

# Local History for Visual Studio Code

.history/

# Built Visual Studio Code Extensions

\*.vsix

### VisualStudioCode Patch

# Ignore all local history of files

.history
.ionide

# End of https://www.toptal.com/developers/gitignore/api/macos,visualstudiocode,phpstorm+all,composer,python
